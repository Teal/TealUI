<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>AJAX 底层</title>
        
        <script type="text/javascript" src="../../../src/core/base.js"></script>
        <script type="text/javascript" src="../../../src/utils/deferrable.js"></script>
        <script type="text/javascript" src="../../../src/ajax/base.js"></script>
        
        <script type="text/javascript" src="../../apps/demo/demo.js"></script>
    </head>
    <body>
        
        <article class="demo">
            
            <script>
            
                Demo.writeExamples({
                    'Ajax.send' : 'Ajax.send({url: "../../../assets/demo/ajax/test.txt", success:function(data){alert(data)}})',
                    'Ajax.get' : 'Ajax.get("../../../assets/demo/ajax/test.txt", function(data){alert(data)})',
                    'Ajax.post' : 'Ajax.post("../../../assets/demo/ajax/test.txt", {data: "值"}, function(data){alert(data)})',
                    'Ajax#run': function(){
                        var ajax = new Ajax();
                        
                        ajax.run({
                            url : "../../../assets/demo/ajax/test.txt",
                            data : {
                                "参数1" : "值1"
                            },
                            
                            start : function(data, options) {
                                alert("准备请求 " + options.url);
                            },
                            success : function(data) {
                                alert("请求已成功 =>" + data);
                            },
                            timeout : function(errorNo) {
                                alert("请求已超时 =>" + errorNo);
                            },
                            error : function(error) {
                                alert("请求已失败 => 错误: " + error);
                            },
                            complete: function (error, options) {
                                alert("请求结束 " + options.url);
                            }
                        });
                        
                    }
                }, {
                    times : 4
                });
                
            </script>
            
        </article>
        
    </body>
</html>