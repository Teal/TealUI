
exports.extend = function (dest, src){
	for(var key in src){
		dest[key] = src[key];
	}
	
	return dest;
};


exports.extendIf = function (dest, src){
	for(var key in src){
		if(dest[key] === undefined) {
			dest[key] = src[key];
		}
	}
	
	return dest;
};


exports.each = function (iterable, fn, scope){

	// 如果 iterable 是 null， 无需遍历 。
	if (iterable != null) {

		// 普通对象使用 for( in ) , 数组用 0 -> length 。
		if (typeof iterable.length !== "number") {

			// Object 遍历。
			for (var key in iterable)
				if (fn.call(scope, iterable[key], key, iterable) === false)
					return false;
		} else {
			return each.call(iterable, fn, scope);
		}

	}
	
	return true;
};


function each(fn, scope) {

	var i = -1, me = this;

	while (++i < me.length)
		if (fn.call(scope, me[i], i, me) === false)
			return false;
	return true;
}