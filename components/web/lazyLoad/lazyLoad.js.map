{"version":3,"file":"lazyLoad.js","sources":["lazyLoad.ts"],"sourcesContent":["import { show } from \"web/dom\";\r\nimport { scrollShow } from \"web/scroll\";\r\n\r\n/**\r\n * 懒加载图片。\r\n * @param elem 要加载的图片。\r\n * @param url 加载的地址。\r\n * @param scrollParent 可滚动的元素。\r\n * @param callback 图片已加载的回调函数。\r\n * @example lazyLoad(img)\r\n */\r\nexport default function lazyLoad(elem: HTMLImageElement, url: string, scrollParent?: HTMLElement, callback?: () => void) {\r\n    scrollShow(elem, () => {\r\n        const proxy = new Image();\r\n        proxy.src = url;\r\n        proxy.onload = () => {\r\n            elem.src = proxy.src;\r\n            show(elem, \"opacity\");\r\n            callback && callback();\r\n        };\r\n    }, true, scrollParent);\r\n}\r\n"],"mappings":";;;IAGA;;;;;;;OAOG;IACH,kBAAiC,IAAsB,EAAE,GAAW,EAAE,YAA0B,EAAE,QAAqB;QACnH,mBAAU,CAAC,IAAI,EAAE;YACb,IAAM,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;YAC1B,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;YAChB,KAAK,CAAC,MAAM,GAAG;gBACX,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;gBACrB,UAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;gBACtB,QAAQ,IAAI,QAAQ,EAAE,CAAC;YAC3B,CAAC,CAAC;QACN,CAAC,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;IAC3B,CAAC;IAVD,2BAUC"}