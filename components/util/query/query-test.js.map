{"version":3,"file":"query-test.js","sources":["query-test.ts"],"sourcesContent":["import * as assert from \"assert\";\r\nimport * as query from \"./query\";\r\n\r\nexport function parseQueryTest() {\r\n    assert.deepEqual(query.parseQuery(\"foo=1&goo=2&goo=3\"), { foo: \"1\", goo: [\"2\", \"3\"] });\r\n}\r\n\r\nexport function formatQueryTest() {\r\n    assert.strictEqual(query.formatQuery({ a: \"2\", c: \"4\" }), \"a=2&c=4\");\r\n    assert.strictEqual(query.formatQuery({ a: [2, 4] }), \"a=2&a=4\");\r\n}\r\n\r\nexport function getQueryTest() {\r\n    assert.strictEqual(query.getQuery(\"foo\", \"?foo=1\"), \"1\");\r\n    assert.strictEqual(query.getQuery(\"goo\", \"?foo=1\"), null);\r\n}\r\n\r\nexport function setQueryTest() {\r\n    assert.strictEqual(query.setQuery(\"foo\", \"1\", \"page.html\"), \"page.html?foo=1\");\r\n    assert.strictEqual(query.setQuery(\"foo\", \"2\", \"page.html?foo=1\"), \"page.html?foo=2\");\r\n    assert.strictEqual(query.setQuery(\"goo\", \"2\", \"page.html?foo=1\"), \"page.html?foo=1&goo=2\");\r\n    assert.strictEqual(query.setQuery(\"goo\", \"2\", \"page.html?foo=1&goo=1\"), \"page.html?foo=1&goo=2\");\r\n    assert.strictEqual(query.setQuery(\"goo\", \"2\", \"page.html?foo=1&hoo=3\"), \"page.html?foo=1&hoo=3&goo=2\");\r\n    assert.strictEqual(query.setQuery(\"foo\", null, \"page.html\"), \"page.html\");\r\n    assert.strictEqual(query.setQuery(\"foo\", null, \"page.html?foo=1\"), \"page.html\");\r\n    assert.strictEqual(query.setQuery(\"foo\", null, \"page.html?foo=1&goo=2\"), \"page.html?goo=2\");\r\n    assert.strictEqual(query.setQuery(\"foo\", null, \"page.html?goo=2&foo=1\"), \"page.html?goo=2\");\r\n    assert.strictEqual(query.setQuery(\"foo\", null, \"page.html?goo=2&foo=1&hoo=3\"), \"page.html?goo=2&hoo=3\");\r\n}\r\n"],"mappings":";;;IAGA;QACI,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,mBAAmB,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;IAC3F,CAAC;IAFD,wCAEC;IAED;QACI,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;QACrE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;IACpE,CAAC;IAHD,0CAGC;IAED;QACI,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAC;QACzD,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,CAAC;IAC9D,CAAC;IAHD,oCAGC;IAED;QACI,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,EAAE,iBAAiB,CAAC,CAAC;QAC/E,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,iBAAiB,CAAC,EAAE,iBAAiB,CAAC,CAAC;QACrF,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,iBAAiB,CAAC,EAAE,uBAAuB,CAAC,CAAC;QAC3F,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,uBAAuB,CAAC,EAAE,uBAAuB,CAAC,CAAC;QACjG,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,uBAAuB,CAAC,EAAE,6BAA6B,CAAC,CAAC;QACvG,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,WAAW,CAAC,EAAE,WAAW,CAAC,CAAC;QAC1E,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,iBAAiB,CAAC,EAAE,WAAW,CAAC,CAAC;QAChF,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,uBAAuB,CAAC,EAAE,iBAAiB,CAAC,CAAC;QAC5F,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,uBAAuB,CAAC,EAAE,iBAAiB,CAAC,CAAC;QAC5F,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,6BAA6B,CAAC,EAAE,uBAAuB,CAAC,CAAC;IAC5G,CAAC;IAXD,oCAWC"}