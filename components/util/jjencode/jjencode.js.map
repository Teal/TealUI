{"version":3,"file":"jjencode.js","sources":["jjencode.js"],"sourcesContent":["/**\r\n * 加密指定的 JavaScript 源码。\r\n * @param {String} text 要加密的代码。\r\n * @param {String} gv 加密的文本。\r\n * @return {String} 返回已加密的代码。\r\n * @example obfuscate(\"var a =1\")\r\n * @see http://utf-8.jp/public/jjencode.html\r\n */\r\nexport default function jjencode(text, gv = \"$\") {\r\n    var r = \"\";\r\n    var n;\r\n    var t;\r\n    var b = [\"___\", \"__$\", \"_$_\", \"_$$\", \"$__\", \"$_$\", \"$$_\", \"$$$\", \"$___\", \"$__$\", \"$_$_\", \"$_$$\", \"$$__\", \"$$_$\", \"$$$_\", \"$$$$\",];\r\n    var s = \"\";\r\n    for (var i = 0; i < text.length; i++) {\r\n        n = text.charCodeAt(i);\r\n        if (n == 0x22 || n == 0x5c) {\r\n            s += \"\\\\\\\\\\\\\" + text.charAt(i).toString(16);\r\n        } else if ((0x21 <= n && n <= 0x2f) || (0x3A <= n && n <= 0x40) || (0x5b <= n && n <= 0x60) || (0x7b <= n && n <= 0x7f)) {\r\n            //}else if( (0x20 <= n && n <= 0x2f) || (0x3A <= n == 0x40) || ( 0x5b <= n && n <= 0x60 ) || ( 0x7b <= n && n <= 0x7f ) ){\r\n            s += text.charAt(i);\r\n        } else if ((0x30 <= n && n <= 0x39) || (0x61 <= n && n <= 0x66)) {\r\n            if (s) r += \"\\\"\" + s + \"\\\"+\";\r\n            r += gv + \".\" + b[n < 0x40 ? n - 0x30 : n - 0x57] + \"+\";\r\n            s = \"\";\r\n        } else if (n == 0x6c) { // 'l'\r\n            if (s) r += \"\\\"\" + s + \"\\\"+\";\r\n            r += \"(![]+\\\"\\\")[\" + gv + \"._$_]+\";\r\n            s = \"\";\r\n        } else if (n == 0x6f) { // 'o'\r\n            if (s) r += \"\\\"\" + s + \"\\\"+\";\r\n            r += gv + \"._$+\";\r\n            s = \"\";\r\n        } else if (n == 0x74) { // 'u'\r\n            if (s) r += \"\\\"\" + s + \"\\\"+\";\r\n            r += gv + \".__+\";\r\n            s = \"\";\r\n        } else if (n == 0x75) { // 'u'\r\n            if (s) r += \"\\\"\" + s + \"\\\"+\";\r\n            r += gv + \"._+\";\r\n            s = \"\";\r\n        } else if (n < 128) {\r\n            if (s) r += \"\\\"\" + s;\r\n            else r += \"\\\"\";\r\n            r += \"\\\\\\\\\\\"+\" + n.toString(8).replace(/[0-7]/g, function (c) { return gv + \".\" + b[c] + \"+\" });\r\n            s = \"\";\r\n        } else {\r\n            if (s) r += \"\\\"\" + s;\r\n            else r += \"\\\"\";\r\n            r += \"\\\\\\\\\\\"+\" + gv + \"._+\" + n.toString(16).replace(/[0-9a-f]/gi, function (c) { return gv + \".\" + b[parseInt(c, 16)] + \"+\" });\r\n            s = \"\";\r\n        }\r\n    }\r\n    if (s) r += \"\\\"\" + s + \"\\\"+\";\r\n\r\n    r =\r\n        gv + \"=~[];\" +\r\n        gv + \"={___:++\" + gv + \",$$$$:(![]+\\\"\\\")[\" + gv + \"],__$:++\" + gv + \",$_$_:(![]+\\\"\\\")[\" + gv + \"],_$_:++\" +\r\n        gv + \",$_$$:({}+\\\"\\\")[\" + gv + \"],$$_$:(\" + gv + \"[\" + gv + \"]+\\\"\\\")[\" + gv + \"],_$$:++\" + gv + \",$$$_:(!\\\"\\\"+\\\"\\\")[\" +\r\n        gv + \"],$__:++\" + gv + \",$_$:++\" + gv + \",$$__:({}+\\\"\\\")[\" + gv + \"],$$_:++\" + gv + \",$$$:++\" + gv + \",$___:++\" + gv + \",$__$:++\" + gv + \"};\" +\r\n        gv + \".$_=\" +\r\n        \"(\" + gv + \".$_=\" + gv + \"+\\\"\\\")[\" + gv + \".$_$]+\" +\r\n        \"(\" + gv + \"._$=\" + gv + \".$_[\" + gv + \".__$])+\" +\r\n        \"(\" + gv + \".$$=(\" + gv + \".$+\\\"\\\")[\" + gv + \".__$])+\" +\r\n        \"((!\" + gv + \")+\\\"\\\")[\" + gv + \"._$$]+\" +\r\n        \"(\" + gv + \".__=\" + gv + \".$_[\" + gv + \".$$_])+\" +\r\n        \"(\" + gv + \".$=(!\\\"\\\"+\\\"\\\")[\" + gv + \".__$])+\" +\r\n        \"(\" + gv + \"._=(!\\\"\\\"+\\\"\\\")[\" + gv + \"._$_])+\" +\r\n        gv + \".$_[\" + gv + \".$_$]+\" +\r\n        gv + \".__+\" +\r\n        gv + \"._$+\" +\r\n        gv + \".$;\" +\r\n        gv + \".$$=\" +\r\n        gv + \".$+\" +\r\n        \"(!\\\"\\\"+\\\"\\\")[\" + gv + \"._$$]+\" +\r\n        gv + \".__+\" +\r\n        gv + \"._+\" +\r\n        gv + \".$+\" +\r\n        gv + \".$$;\" +\r\n        gv + \".$=(\" + gv + \".___)[\" + gv + \".$_][\" + gv + \".$_];\" +\r\n        gv + \".$(\" + gv + \".$(\" + gv + \".$$+\\\"\\\\\\\"\\\"+\" + r + \"\\\"\\\\\\\"\\\")())();\";\r\n\r\n    return r;\r\n}\r\n"],"mappings":"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"}